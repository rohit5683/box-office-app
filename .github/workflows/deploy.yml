name: CICD for Box Office App

on:
  push:
    branches: [main]
  workflow_dispatch:

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest

permissions:
  contents: write

  steps:
  - name: Checkout repository
    uses: action/checkout@v3

  - name: Setup Node.js
    uses: actions/setup-node@v3
    with:
      node-version: 18

  - name: Install dependencies
    run: npm Install

  - name: Build Project
    run: run npm build

  - name: Deploy to Github Pages
    uses: JamesIves/github-pages-deploy-action@4.1.0
    with:
      branch: gh-pages
      folder: build
